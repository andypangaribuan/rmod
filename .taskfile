#!/bin/bash

# Copyright (c) 2026.
# Created by Andy Pangaribuan. All Rights Reserved.
# This product is protected by copyright and distributed under
# licenses restricting copying, distribution and decompilation.



#: do cargo build and lint
function run {
  devbox run build
  devbox run lint
}


#: do cargo test
function test {
  devbox run test
}


#: run cspell to check the project words
function spell {
  spell-rs
}


#: space


#: open devbox shell #: opt: --fresh (delete .cargo and .rustup directories first)
function shell {
  if [[ $1 == "--fresh" ]]; then
    rm -rf .cargo .rustup
  fi

  devbox shell
}



#: space
[ -z "$TASKFILE_EXECUTOR" ] && sq taskfile --execute "$@"
